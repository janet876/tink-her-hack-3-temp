<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Blog posts website</title>
        <link rel="stylesheet" href="style.css">

    </head>
    <body>
        
        
 <nav class="navbar">
    <a href="post.html">Latest blog</a>
    <a href="poll.html">Poll</a>
    <h1>My Blog</h1>
    <a href="quiz.html">Daily quiz</a>
    <a href="create.html">Create post</a>
 </nav>
 <div class="blog-container">
    <script>
        // Fetch blog posts from Flask backend
        fetch("http://127.0.0.1:5000/posts")
            .then(response => response.json())
            .then(data => {
                let container = document.getElementById("blog-container");
                container.innerHTML = ""; // Clear previous content
               
                data.forEach(post => {
                    let postDiv = document.createElement("div");
                    postDiv.classList.add("post");
                    postDiv.innerHTML = `<h2>${post.title}</h2><p>${post.content}</p>`;
                    container.appendChild(postDiv);
                });
            })
            .catch(error => console.error("Error fetching posts:", error));
    </script>
    <h1>Latest blog posts</h1>
    <div class="blog-post1">
        <h2>Travelling places in Kerala</h2><br>
        <p>Kerala really is "God's Own Country"! With it's pristine beaches and rich culture and heritage. Munnar, with its lush green plantations , Kovalam having golden sands and serene waters.</p>
     </div>
     <br><br><br>
    <div class="blog-post2">
        <h2>My Favourite Hobbies</h2>
        <p>
            <ul>
<li>Reading</li>
<li>Drawing</li>
<li>Cooking</li>
<li>Crocheting</li>
<li>Painting</li>
        </ul>
    </p>
   
     </div>
    </body>
</html> 


    <script>
        // Fetch blog posts from Flask backend
        fetch("http://127.0.0.1:5000/posts/list")  <!-- Corrected to use /posts/list -->
            .then(response => response.json())
            .then(data => {
                let container = document.getElementById("blog-container");
                container.innerHTML = "<h1>Latest blog posts</h1>"; // Clear any existing content

                // Dynamically create a div for each post
                data.forEach(post => {
                    let postDiv = document.createElement("div");
                    postDiv.classList.add("post");
                    postDiv.innerHTML = `
                        <h2>${post.title}</h2>
                        <p>${post.content}</p>
                        ${post.image ? `<img src="static/uploads/${post.image}" alt="${post.title}">` : ""}
                    `;
                    container.appendChild(postDiv);
                });
            })
            .catch(error => console.error("Error fetching posts:", error));
    </script>
</body>
</html>
